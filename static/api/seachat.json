{"openapi":"3.0.2","info":{"title":"SeaChat API","version":"Beta"},"paths":{"api/v1/public/bots":{"get":{"tags":["public bots"],"summary":"list gptbots","description":"list gptbots","operationId":"list_gptbots_api_v1_public_bots_get","parameters":[{"description":"determine the workspace id","required":false,"schema":{"title":"Workspace Id","type":"string","description":"determine the workspace id"},"example":"workspace_id","name":"workspace_id","in":"query"},{"description":"Optional, determine the number of rows need be skipped","required":false,"schema":{"title":"Offset","type":"integer","description":"Optional, determine the number of rows need be skipped","default":0},"example":0,"name":"offset","in":"query"},{"description":"Optional, determine the number of returned rows after skipped offset, if it is 0, return all items","required":false,"schema":{"title":"Limit","type":"integer","description":"Optional, determine the number of returned rows after skipped offset, if it is 0, return all items","default":0},"example":0,"name":"limit","in":"query"},{"description":"Optional, order items by asc or desc with comma-separated list of <field>:<direction> pairs, default is created_at:asc","required":false,"schema":{"title":"Order By","type":"string","description":"Optional, order items by asc or desc with comma-separated list of <field>:<direction> pairs, default is created_at:asc","default":"created_at:asc"},"name":"order_by","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResponse_GPTBotForPublicAPI_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]},"post":{"tags":["public bots"],"summary":"create a new gptbot","description":"create a new gptbot","operationId":"create_gptbot_api_v1_public_bots_post","parameters":[{"required":false,"schema":{"title":"Workspace Id","type":"string"},"name":"workspace_id","in":"query"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGPTBotForPublicAPI"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GPTBotForPublicAPI"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}},"api/v1/public/bots/{bot_id}":{"get":{"tags":["public bots"],"summary":"get gptbot by id","description":"get gptbot by id","operationId":"get_gptbot_by_id_api_v1_public_bots__bot_id__get","parameters":[{"required":true,"schema":{"title":"Bot Id","type":"string"},"name":"bot_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GPTBotForPublicAPI"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]},"patch":{"tags":["public bots"],"summary":"Partial update specific gptbot by id","description":"partial update specific gptbot by id","operationId":"patch_gptbot_api_v1_public_bots__bot_id__patch","parameters":[{"required":true,"schema":{"title":"Bot Id","type":"string"},"name":"bot_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateGPTBotForPublicAPI"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GPTBotForPublicAPI"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}},"api/v1/public/bots/{bot_id}/kbs/documents":{"post":{"tags":["public bots"],"summary":"Upload document file","operationId":"upload_document_api_v1_public_bots__bot_id__kbs_documents_post","parameters":[{"required":true,"schema":{"title":"Bot Id","type":"string"},"name":"bot_id","in":"path"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_document_api_v1_public_bots__bot_id__kbs_documents_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadFileResponseForPublicAPI"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}},"api/v1/public/tasks/{task_id}":{"get":{"tags":["public tasks"],"summary":"get a task by id","description":"get task by id","operationId":"get_task_by_id_api_v1_public_tasks__task_id__get","parameters":[{"required":true,"schema":{"title":"Task Id","type":"string"},"name":"task_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}},"webhook/v1/bots/{bot_id}/conversations/ops/get_or_create":{"post":{"tags":["webhook bots"],"summary":"Get or create a conversation for third party user.","operationId":"get_or_create_conversation_for_third_party_webhook_v1_bots__bot_id__conversations_ops_get_or_create_post","parameters":[{"required":true,"schema":{"title":"Bot Id","type":"string"},"name":"bot_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateThirdPartyConversation"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThirdPartyConversationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}},"webhook/v1/bots/{bot_id}/conversations/{conversation_id}/messages":{"get":{"tags":["webhook bots"],"summary":"Get message data by conversation_id","description":"Get message data by conversation_id","operationId":"get_conversation_message_list_by_conversation_id_webhook_v1_bots__bot_id__conversations__conversation_id__messages_get","parameters":[{"required":true,"schema":{"title":"Bot Id","type":"string"},"name":"bot_id","in":"path"},{"required":true,"schema":{"title":"Conversation Id","type":"string"},"name":"conversation_id","in":"path"},{"description":"Optional, the direction of the query, default is BACKWARD.","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/ConversationMessageQueryDirection"}],"description":"Optional, the direction of the query, default is BACKWARD."},"example":"BACKWARD","name":"direction","in":"query"},{"description":"Optional, the starting sequence of the query, BACKWARD mode is set to 1 by default,The default value of FORWARD mode is the sequence of the last conversation logging of the conversation","required":false,"schema":{"title":"Sequence","type":"integer","description":"Optional, the starting sequence of the query, BACKWARD mode is set to 1 by default,The default value of FORWARD mode is the sequence of the last conversation logging of the conversation"},"example":0,"name":"sequence","in":"query"},{"description":"Optional, determine the number of rows need be skipped, default is 0","required":false,"schema":{"title":"Offset","type":"integer","description":"Optional, determine the number of rows need be skipped, default is 0","default":0},"example":0,"name":"offset","in":"query"},{"description":"Optional, the limit of data count in the query. If set to 0, it means there is no limit, default is 0.","required":false,"schema":{"title":"Limit","type":"integer","description":"Optional, the limit of data count in the query. If set to 0, it means there is no limit, default is 0."},"example":0,"name":"limit","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThirdPartyListMessagesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]},"post":{"tags":["webhook bots"],"summary":"Post a multimedia message to bot or agent from third party.","operationId":"post_multimedia_message_from_third_party_webhook_v1_bots__bot_id__conversations__conversation_id__messages_post","parameters":[{"required":true,"schema":{"title":"Bot Id","type":"string"},"name":"bot_id","in":"path"},{"required":true,"schema":{"title":"Conversation Id","type":"string"},"name":"conversation_id","in":"path"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_post_multimedia_message_from_third_party_webhook_v1_bots__bot_id__conversations__conversation_id__messages_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThirdPartyMessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}}},"components":{"schemas":{"Body_post_multimedia_message_from_third_party_webhook_v1_bots__bot_id__conversations__conversation_id__messages_post":{"title":"Body_post_multimedia_message_from_third_party_webhook_v1_bots__bot_id__conversations__conversation_id__messages_post","type":"object","properties":{"with_reply":{"title":"with_reply","type":"boolean","description":"Is the response need include bot reply?"},"upload_file":{"title":"upload_file","type":"string","description":"File for extracting conversation messages, the file size limit is 35 MB.","format":"binary"},"message_media_type":{"title":"message_media_type","allOf":[{"$ref":"#/components/schemas/ConversationMessageMediaType"}],"description":"The media type of message, now only support `AUDIO`.","default":"AUDIO"},"sample_rate":{"title":"sample_rate","type":"integer","description":"Optional, the sample rate of audio, limit is 8000 to 48000, default is 16000.","default":16000},"language":{"title":"language","allOf":[{"$ref":"#/components/schemas/LanguageCode"}],"description":"Optional, the language of STT, default is en-US.","default":"en-US"}}},"Body_upload_document_api_v1_public_bots__bot_id__kbs_documents_post":{"title":"Body_upload_document_api_v1_public_bots__bot_id__kbs_documents_post","required":["upload_file"],"type":"object","properties":{"callback_url":{"title":"callback_url","type":"string","description":"the url to call when the task is completed"},"upload_file":{"title":"Upload File","type":"string","description":"Only files with extensions .csv, .doc, .docx, .eml, .epub, .gif, .jpeg, .jpg, .json, .html, .mp3, .msg, .odt, .ogg, .pdf, .png, .ppt, .pptx, .ps, .rtf, .tiff, .txt, .wav, .xls, .xlsx, .zip are allowed.","format":"binary"}}},"ConversationEvent":{"title":"ConversationEvent","enum":["OUTBOUND_MESSAGE","TRANSFERRING","TIMEOUT","JOINED","END","EXITED","INBOUND_MESSAGE","FORM_SUBMISSION","CSAT_SUBMISSION","BUTTON_POSTBACK"],"type":"string","description":"Events of conversation"},"ConversationMessageMediaType":{"title":"ConversationMessageMediaType","enum":["AUDIO"],"type":"string","description":"An enumeration."},"ConversationMessageQueryDirection":{"title":"ConversationMessageQueryDirection","enum":["FORWARD","BACKWARD"],"type":"string","description":"Query direction of conversation message"},"CreateGPTBotForPublicAPI":{"title":"CreateGPTBotForPublicAPI","required":["workspace_id","name","description"],"type":"object","properties":{"workspace_id":{"title":"workspace_id","type":"string","description":"the workspace id.","example":"XXXXX-XXX-XXXXXXXXX"},"name":{"title":"name","type":"string","description":"the bot name.","example":"SeaChat"},"description":{"title":"description","type":"string","description":"The description of bot"},"use_case":{"title":"description","allOf":[{"$ref":"#/components/schemas/GPTBotUseCase"}],"description":"The use case of bot","default":"Customer Service","example":"Customer Service"},"live_agent_transfer":{"title":"live_agent_transfer","type":"boolean","description":"Live agent transfer enabled","default":false},"default_response_language":{"title":"default_response_language","allOf":[{"$ref":"#/components/schemas/DefaultResponseLanguage"}],"description":"Default language for the bot to respond in if it can't detect user input language","default":"default","example":"default"},"is_enabled":{"title":"is_enabled","type":"boolean","description":"Used to set whether the gptbot is enabled","default":true,"example":true}},"description":"This Schema is used for public API of creating bots."},"CreateThirdPartyConversation":{"title":"CreateThirdPartyConversation","required":["user"],"type":"object","properties":{"user":{"title":"id","allOf":[{"$ref":"#/components/schemas/ThirdPartyUser"}],"description":"third party user id","example":{"id":"TP00001","first_name":"Thomas","last_name":"Jefferson"}},"with_reply":{"title":"with_reply","type":"boolean","description":"the response need include bot reply","default":true,"example":true}}},"DefaultResponseLanguage":{"title":"DefaultResponseLanguage","enum":["default","en-US","en-GB","zh-TW","zh-CN"],"type":"string","description":"Valid options for the language the bot will respond in.\n'default' is to match the user input, based on frontend."},"GPTBotForPublicAPI":{"title":"GPTBotForPublicAPI","required":["workspace_id","name","description","id"],"type":"object","properties":{"workspace_id":{"title":"workspace_id","type":"string","description":"the workspace id.","example":"XXXXX-XXX-XXXXXXXXX"},"name":{"title":"name","type":"string","description":"the bot name.","example":"SeaChat"},"description":{"title":"description","type":"string","description":"The description of bot"},"use_case":{"title":"description","allOf":[{"$ref":"#/components/schemas/GPTBotUseCase"}],"description":"The use case of bot","default":"Customer Service","example":"Customer Service"},"live_agent_transfer":{"title":"live_agent_transfer","type":"boolean","description":"Live agent transfer enabled","default":false},"default_response_language":{"title":"default_response_language","allOf":[{"$ref":"#/components/schemas/DefaultResponseLanguage"}],"description":"Default language for the bot to respond in if it can't detect user input language","default":"default","example":"default"},"is_enabled":{"title":"is_enabled","type":"boolean","description":"Used to set whether the gptbot is enabled","default":true,"example":true},"id":{"title":"id","type":"string","description":"the bot id.","example":"XXXXX-XXX-XXXXXXXXX"}},"description":"This schema is used in the public API as the response body of GPTbot."},"GPTBotUseCase":{"title":"GPTBotUseCase","enum":["Customer Service","FAQ","Recommend Products","Internal KB","Appointment Scheduling","Celebrity Chat","Survey","Menu Ordering","Blank"],"type":"string","description":"Use Case of GPTBot"},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"LanguageCode":{"title":"LanguageCode","enum":["auto","af-AF","sq-SQ","ar-DZ","ar-BH","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LB","ar-LY","ar-MA","ar-OM","ar-QA","ar-SA","ar-SY","ar-TN","ar-AE","ar-YE","eu-EU","be-BE","bg-BG","ca-CA","zh-HK","zh-CN","zh-SG","zh-TW","hr-HR","cs-CS","da-DA","nl-BE","nl-NL","en-EN","en-AU","en-BZ","en-CA","en-IE","en-JM","en-NZ","en-ZA","en-TT","en-GB","en-US","et-ET","fo-FO","fa-FA","fi-FI","fr-BE","fr-CA","fr-LU","fr-FR","fr-CH","gd-GD","de-AT","de-LI","de-LU","de-DE","de-CH","el-EL","he-HE","hi-HI","hu-HU","is-IS","id-ID","ga-GA","it-IT","it-CH","ja-JP","ko-KR","ku-KU","lv-LV","lt-LT","mk-MK","ml-ML","ms-MS","mt-MT","no-NO","nb-NB","nn-NN","pl-PL","pt-BR","pt-PT","pa-PA","rm-RM","ro-RO","ro-MD","ru-RU","ru-MD","sr-SR","sk-SK","sl-SL","sb-SB","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-SV","es-GT","es-HN","es-MX","es-NI","es-PA","es-PY","es-PE","es-PR","es-ES","es-UY","es-VE","sv-SV","sv-FI","th-TH","ts-TS","tn-TN","tr-TR","ua-UA","ur-UR","ve-VE","vi-VI","cy-CY","xh-XH","ji-JI","zu-ZU"],"type":"string","description":"Language Code ISO 639-1 with additional 'AUTO' for inner case."},"ListResponse_GPTBotForPublicAPI_":{"title":"ListResponse[GPTBotForPublicAPI]","required":["data"],"type":"object","properties":{"total":{"title":"total","type":"integer","description":"The total count of entries.","example":0},"data":{"title":"data","type":"array","items":{"$ref":"#/components/schemas/GPTBotForPublicAPI"},"description":"The entry list."}},"description":"ListResponse schema"},"TaskResult":{"title":"TaskResult","required":["id"],"type":"object","properties":{"id":{"title":"id","type":"string","description":"The task ID","example":"11111111-2222-4444-3333-555555555555"},"task_type":{"title":"task_type","allOf":[{"$ref":"#/components/schemas/TaskType"}],"description":"The task type","default":"UPLOAD_KB_FILE","example":"UPLOAD_KB_FILE"}}},"TaskType":{"title":"TaskType","enum":["UPLOAD_KB_FILE"],"type":"string","description":"An enumeration."},"ThirdPartyConversationLogging":{"title":"ThirdPartyConversationLogging","required":["id","event","sequence","speaker"],"type":"object","properties":{"id":{"title":"Autoincrement number","type":"integer","description":"Autoincrement number","example":0},"text":{"title":"text","type":"string","description":"message content","example":"Hello!"},"data":{"title":"additional data with the message","type":"object","description":"additional data with the message","example":{"img":"http://img.jpg"}},"event":{"title":"event","allOf":[{"$ref":"#/components/schemas/ConversationEvent"}],"description":"event of conversation","example":"INBOUND_MESSAGE"},"sequence":{"title":"Autoincrement number","type":"integer","description":"Autoincrement number","example":0},"speaker":{"title":"speaker","allOf":[{"$ref":"#/components/schemas/ThirdPartyMessageSpeaker"}],"description":"speaker of conversation message"},"created_at":{"title":"The time of this object was created","type":"string","description":"The UTC time when the object was initially createdhttps://pydantic-docs.helpmanual.io/usage/types/#datetime-types","format":"date-time","example":"2020-06-09 10:25:47.116777"}},"description":"The conversation logging schema for third party."},"ThirdPartyConversationResponse":{"title":"ThirdPartyConversationResponse","required":["user","conversation_id"],"type":"object","properties":{"user":{"title":"id","allOf":[{"$ref":"#/components/schemas/ThirdPartyUser"}],"description":"third party user id","example":{"id":"TP00001","first_name":"Thomas","last_name":"Jefferson"}},"conversation_id":{"title":"conversation_id","type":"string","description":"Specifies the user's conversation ID","example":"33ab7ceb-9b6b-4252-baf0-82a6d703aa7d"},"messages":{"title":"messages","type":"array","items":{"$ref":"#/components/schemas/ThirdPartyConversationLogging"},"description":"messages"}}},"ThirdPartyListMessagesResponse":{"title":"ThirdPartyListMessagesResponse","required":["conversation_id","messages"],"type":"object","properties":{"conversation_id":{"title":"conversation_id","type":"string","description":"Specifies the user's conversation ID","example":"33ab7ceb-9b6b-4252-baf0-82a6d703aa7d"},"messages":{"title":"messages","type":"array","items":{"$ref":"#/components/schemas/ThirdPartyConversationLogging"},"description":"messages"}}},"ThirdPartyMessageResponse":{"title":"ThirdPartyMessageResponse","required":["conversation_id","inbound_sequence"],"type":"object","properties":{"conversation_id":{"title":"conversation_id","type":"string","description":"Specifies the user's conversation ID","example":"33ab7ceb-9b6b-4252-baf0-82a6d703aa7d"},"messages":{"title":"messages","type":"array","items":{"$ref":"#/components/schemas/ThirdPartyConversationLogging"},"description":"messages"},"inbound_sequence":{"title":"sequence","type":"integer","description":"Sequence of the conversation","example":1}}},"ThirdPartyMessageSpeaker":{"title":"ThirdPartyMessageSpeaker","required":["id","name","first_name"],"type":"object","properties":{"id":{"title":"id","type":"string","description":"User ID of speaker","example":"pikachu"},"name":{"title":"name","type":"string","description":"Name of speaker","example":"Pika Chu"},"first_name":{"title":"first_name","type":"string","description":"First name of speaker","example":"Pika"},"last_name":{"title":"last_name","type":"string","description":"Last name of speaker","example":"Chu"},"phone":{"title":"phone","type":"string","description":"Phone","example":"+123456789"},"email":{"title":"email","type":"string","description":"Email","example":"pikachu@seasalt.ai"},"channel_type":{"title":"channel_type","allOf":[{"$ref":"#/components/schemas/UserChannelType"}],"description":"Channel type of user","example":"SeaAuth"},"third_party_user_id":{"title":"third_party_user_id","type":"string","description":"the user_id from third party ","example":"TU0001"}},"description":"The conversation logging speaker schema."},"ThirdPartyUser":{"title":"ThirdPartyUser","required":["id"],"type":"object","properties":{"id":{"title":"id","type":"string","description":"third party user id","example":"TP00001"},"first_name":{"title":"first_name","type":"string","description":"third party user first name ,If the first name and last name are not distinguished,please fill in the first name. If the user name cannot be confirmed, pass null.","example":"Thomas"},"last_name":{"title":"last_name","type":"string","description":"third party user last nameIf the first name and last name are not distinguished,please fill in the first name. If the user name cannot be confirmed, pass null.","example":"Jefferson"}}},"UpdateGPTBotForPublicAPI":{"title":"UpdateGPTBotForPublicAPI","type":"object","properties":{"name":{"title":"name","type":"string","description":"the bot name.","example":"SeaChat"},"description":{"title":"description","type":"string","description":"The description of bot"},"use_case":{"title":"description","allOf":[{"$ref":"#/components/schemas/GPTBotUseCase"}],"description":"The use case of bot","example":"Customer Service"},"live_agent_transfer":{"title":"live_agent_transfer","type":"boolean","description":"Live agent transfer enabled"},"default_response_language":{"title":"default_response_language","allOf":[{"$ref":"#/components/schemas/DefaultResponseLanguage"}],"description":"Default language for the bot to respond in if it can't detect user input language"},"is_enabled":{"title":"is_enabled","type":"boolean","description":"Used to set whether the gptbot is enabled","example":true}},"description":"Update GPT Bot Schema"},"UploadFileResponseForPublicAPI":{"title":"UploadFileResponseForPublicAPI","required":["task_id"],"type":"object","properties":{"task_id":{"title":"task_id","type":"string","description":"xxxxxxx"}}},"UserChannelType":{"title":"UserChannelType","enum":["System","WebChat","SeaAuth","Line","Voice","ThirdPartyClient","AgentPhone"],"type":"string","description":"An enumeration."},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"JWTBearer":{"type":"http","scheme":"bearer"}}}}